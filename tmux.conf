# Enable powerline in tmux
# ========================
source "$POWERLINE_EGG/powerline/bindings/tmux/powerline.conf"


# My private configuration
# ========================
# Reattach to user namespace
set -g default-shell $SHELL
set -g default-command "reattach-to-user-namespace -l ${SHELL}"

# Block renaming panes
set-option -g allow-rename off

# Set right lower status bar
set-option -g status-right " %H:%M %d-%b-%y "

# Disable paste/write detection
set -g assume-paste-time 0

# Disable escape time delay
set -s escape-time 0

# Start numbering at 1 (easier to switch between a few screens)
# set -g base-index 1
# setw -g pane-base-index 1


# Bind other keys
# ===============
bind-key J resize-pane -D
bind-key K resize-pane -U
bind-key H resize-pane -L
bind-key L resize-pane -R

# Setup 'v' to begin selection as in Vim
bind-key -t vi-copy r rectangle-toggle
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-pipe "pbcopy"


# List of installed plugins
# =========================
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'


# Enable tmux resurrect with vim
# ==============================
set -g @resurrect-strategy-vim 'session'


# tmux ressurect config
# =====================
set -g @resurrect-processes 'ssh mosh weechat'


# tmux continuum config
# =====================
set -g @continuum-restore 'on'


# Run Tmux plugin manager
# =======================
run '~/.tmux/plugins/tpm/tpm'
